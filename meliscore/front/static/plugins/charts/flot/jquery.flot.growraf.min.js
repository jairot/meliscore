(function(e){"use strict";function a(t){function g(t,s,o){m=t.getOptions();var u=m.series.grow.valueIndex;if(m.series.grow.active===true){var f=false;var l=0;if(m.series.grow.reanimate&&c===i.PLOTTED_LAST_FRAME){n=false;c=i.NOT_PLOTTED_YET;a=0;v=t.getData();var p=Math.min(v.length,h.length);for(l=0;l<p;l++){v[l].dataOld=h[l]}f=true;r=true}if(!n){if(!f){v=t.getData()}c=i.NOT_PLOTTED_YET;a=+(new Date)|0;h=[];for(l=0;l<v.length;l++){var d=v[l];d.dataOrg=e.extend(true,[],d.data);h.push(d.dataOrg);if(!f){for(var g=0;g<d.data.length;g++){d.data[g][u]=d.dataOrg[g][u]===null?null:0}}}t.setData(v);n=true}}}function y(e,t){if(r===true){b(e)}}function b(e){m=e.getOptions();if(m.series.grow.active===true){w(e.getData(),m);a=+(new Date)|0;p=o(S)}r=false}function w(e,t){var n=t.series.grow.duration;for(var r=0,i=e.length;r<i;r++){var s=e[r].grow.duration;if(n<s){n=s}}t.series.grow.duration=n}function E(e,t){if(f("resize")){e.getPlaceholder().resize(x)}}function S(){l=+(new Date)-a|0;for(var e=0,t=v.length;e<t;e++){var n=v[e];var r=n.dataOld&&n.dataOld.length>0;for(var u=0,f=n.grow.growings.length;u<f;u++){var h=n.grow.growings[u];var g;if(r&&h.reanimate!=="reinit"){if(typeof h.reanimate==="function"){g=h.reanimate}if(h.reanimate==="continue"){g=s.reanimate}else{g=s.none}}else if(typeof h.stepMode==="function"){g=h.stepMode}else{g=s[h.stepMode]||s.none}g(n,l,h,c)}}d.setData(v);d.draw();if(c===i.NOT_PLOTTED_YET){c=i.PLOTTED_SOME_FRAMES}if(l<m.series.grow.duration){p=o(S)}else{c=i.PLOTTED_LAST_FRAME;p=null;d.getPlaceholder().trigger("growFinished")}}function x(){if(p){for(var n=0;n<v.length;n++){var r=v[n];r.data=e.extend(true,[],r.dataOrg)}t.setData(v);t.setupGrid()}}function T(e,t){e.getPlaceholder().unbind("resize",x);if(p){u(p);p=null}}var n=false;var r=true;var a=0,l=0,c=i.NOT_PLOTTED_YET;var h=[];var p;var d=t;var v=null;var m=null;t.hooks.drawSeries.push(g);t.hooks.draw.push(y);t.hooks.bindEvents.push(E);t.hooks.shutdown.push(T)}function f(t){var n=e.plot.plugins;for(var r=0,i=n.length;r<i;r++){var s=n[r];if(s.name===t){return true}}return false}function l(){var e=window.requestAnimationFrame;var t=window.cancelAnimationFrame;var n=+(new Date);var r=["ms","moz","webkit","o"];for(var i=0;i<r.length&&!e;++i){e=window[r[i]+"RequestAnimationFrame"];t=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"]}if(!e){e=function(e,t){var r=+(new Date);var i=Math.max(0,16-(r-n));var s=window.setTimeout(function(){e(r+i)},i);n=r+i;return s}}if(!t){t=function(e){clearTimeout(e)}}o=e;u=t}var t="growraf",n="0.4.5";var r={series:{grow:{active:false,duration:1e3,valueIndex:1,reanimate:true,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up",reanimate:"continue"}]}}};var i={NOT_PLOTTED_YET:0,PLOTTED_SOME_FRAMES:1,PLOTTED_LAST_FRAME:2};var s={none:function(e,t,n,r){if(r===i.NOT_PLOTTED_YET){for(var s=0,o=e.data.length;s<o;s++){e.data[s][n.valueIndex]=e.dataOrg[s][n.valueIndex]}}},linear:function(e,t,n,r){var i=Math.min(t,e.grow.duration);for(var s=0,o=e.data.length;s<o;s++){var u=e.dataOrg[s][n.valueIndex];if(u!==null){if(n.stepDirection==="up"){e.data[s][n.valueIndex]=u/e.grow.duration*i}else if(n.stepDirection==="down"){e.data[s][n.valueIndex]=u+(e.yaxis.max-u)/e.grow.duration*(e.grow.duration-i)}}else{e.data[s][n.valueIndex]=null}}},maximum:function(e,t,n,r){var i=Math.min(t,e.grow.duration);for(var s=0,o=e.data.length;s<o;s++){var u=e.dataOrg[s][n.valueIndex];if(u!==null){if(n.stepDirection==="up"){if(u>=0){e.data[s][n.valueIndex]=Math.min(u,e.yaxis.max/e.grow.duration*i)}else{e.data[s][n.valueIndex]=Math.max(u,e.yaxis.min/e.grow.duration*i)}}else if(n.stepDirection==="down"){if(u>=0){e.data[s][n.valueIndex]=Math.max(u,e.yaxis.max/e.grow.duration*(e.grow.duration-i))}else{e.data[s][n.valueIndex]=Math.min(u,e.yaxis.min/e.grow.duration*(e.grow.duration-i))}}}else{e.data[s][n.valueIndex]=null}}},delay:function(e,t,n,r){if(t>=e.grow.duration){for(var i=0,s=e.data.length;i<s;i++){e.data[i][n.valueIndex]=e.dataOrg[i][n.valueIndex]}}},reanimate:function(e,t,n,r){var i=Math.min(t,e.grow.duration);for(var s=0,o=e.data.length;s<o;s++){var u=e.dataOrg[s][n.valueIndex];if(u===null){e.data[s][n.valueIndex]=null}else if(e.dataOld){var a=e.dataOld[s][n.valueIndex];e.data[s][n.valueIndex]=a+(u-a)/e.grow.duration*i}}}};var o;var u;l();e.plot.plugins.push({init:a,options:r,name:t,version:n})})(jQuery)